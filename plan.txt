# way to proceed for SmartRNAseq:

# specify all sw needed
  - bcftools
  - samtools
  - GATK
  - R [ranger, caret]
  - bedtools
  - awk
  - python [pysam]
  
  
# Ideally built with 1+ Docker from biocontainers
   - There are pros and cons in both approaches.
      -  1 macro container can then be executed as a single execution that takes care to run all steps
      -  Many containers free us to build one docker specific for this (except  for R and custom scripts)
      -  We should talk about the better solution so that I can start packaging it 

# Pipeline steps :

# input:
  # VCF with calls
  # BAM file from alignment
  # REF alignment fasta file
  # BED for : UCSC repmask, intron-exon junctions, RNAEdit
  # GATK dbsnp stuff [maybe]
  
# Steps:
  #1) split VCF into biallelic and normalize variants
      in:
        - VCF
      out:
       - VCF
      sw:
       - bcftools + awk eventually
  #2) check if annotations are there
       in:
         - VCF
       out :
         - VCF
       sw:
         custom script to do yet
         
         
  #3) If not there, annotate with GATK AnnotateVariants
      in:
        - VCF
        - BAM
      out :
        - VCF
      sw:
        - GATK
        
        
  #4) Filter variants w/ GATK:
      in:
        - VCF
        - BAM
      out :
        - VCF
      sw:
        - GATK
        
   #5) Annotate VCF: RNA_post_analysis.py
      in :
        - VCF
        - BAM
        - BED
      out:
        - TSV [one line per VCF variant]
      sw:
        - python, bedtools, samtools, awk
        
   #6) Add RF model estimation : [to do] 
      in :
        - TSV
      out:
        - TSV
      sw:
        - R
        
    #7) Use the R estimations to filter VCF
       in:
         - TSV
         - VCF
        out:
         - VCF :PASS
   